<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>

<body>
	<iframe id="f1" src="about:blank" width="100%" height="50%"></iframe>
</body>
<script>
	//	let f = window.document.getElementById("f1");
	//	f.onload=function(){
	//		console.log(f.contentWindow.__ZK_PARENT)
	//	}
	// 获取 iframe 元素
	var iframeElement = document.getElementById('f1');

	// 创建代理对象
	//	var iframeProxy = new Proxy(iframeElement.contentWindow, {
	//		get: function (target, property) {
	//			// 在访问 iframe 的 contentWindow 属性时执行自定义逻辑
	//			console.log('Accessed iframe contentWindow property:', property);
	//			return target[property];
	//		},
	//		set: function (target, property, value) {
	//			// 在设置 iframe 的 contentWindow 属性时执行自定义逻辑
	//			console.log('Set iframe contentWindow property:', property);
	//			target[property] = value;
	//			return true;
	//		}
	//	});

	// 替换 iframe 的 contentWindow 属性为代理对象
	Object.defineProperty(iframeElement.contentWindow, "__ZK_PARENT", {
 		enumerable: true,
    configurable: true,
		get :()=> window.__ZK_PARENT,
		set:(value)=>{
			console.log("set")
		}
	});

	iframeElement.src = "./inner.html"

	iframeElement.onload=function(){
		console.log(window.__ZK_PARENT)
	}

</script>

</html>
